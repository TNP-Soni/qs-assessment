import { WindowInterruptSource } from './windowinterruptsource';
/*
 * An interrupt source on the storage event of Window.
 */
export class StorageInterruptSource extends WindowInterruptSource {
    constructor(options = 500) {
        super('storage', options);
    }
    /*
     * Checks to see if the event should be filtered.
     * @param event - The original event object.
     * @return True if the event should be filtered (don't cause an interrupt); otherwise, false.
     */
    filterEvent(event) {
        if (event.key &&
            event.key.indexOf('ng2Idle.') >= 0 &&
            event.key.indexOf('.expiry') >= 0) {
            return false;
        }
        return true;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZWludGVycnVwdHNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2NvcmUvc3JjL2xpYi9zdG9yYWdlaW50ZXJydXB0c291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR2hFOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHNCQUF1QixTQUFRLHFCQUFxQjtJQUMvRCxZQUFZLFVBQWdELEdBQUc7UUFDN0QsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFdBQVcsQ0FBQyxLQUFtQjtRQUM3QixJQUNFLEtBQUssQ0FBQyxHQUFHO1lBQ1QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztZQUNsQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ2pDLENBQUM7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdpbmRvd0ludGVycnVwdFNvdXJjZSB9IGZyb20gJy4vd2luZG93aW50ZXJydXB0c291cmNlJztcbmltcG9ydCB7IEV2ZW50VGFyZ2V0SW50ZXJydXB0T3B0aW9ucyB9IGZyb20gJy4vZXZlbnR0YXJnZXRpbnRlcnJ1cHRzb3VyY2UnO1xuXG4vKlxuICogQW4gaW50ZXJydXB0IHNvdXJjZSBvbiB0aGUgc3RvcmFnZSBldmVudCBvZiBXaW5kb3cuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdG9yYWdlSW50ZXJydXB0U291cmNlIGV4dGVuZHMgV2luZG93SW50ZXJydXB0U291cmNlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogbnVtYmVyIHwgRXZlbnRUYXJnZXRJbnRlcnJ1cHRPcHRpb25zID0gNTAwKSB7XG4gICAgc3VwZXIoJ3N0b3JhZ2UnLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qXG4gICAqIENoZWNrcyB0byBzZWUgaWYgdGhlIGV2ZW50IHNob3VsZCBiZSBmaWx0ZXJlZC5cbiAgICogQHBhcmFtIGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBldmVudCBzaG91bGQgYmUgZmlsdGVyZWQgKGRvbid0IGNhdXNlIGFuIGludGVycnVwdCk7IG90aGVyd2lzZSwgZmFsc2UuXG4gICAqL1xuICBmaWx0ZXJFdmVudChldmVudDogU3RvcmFnZUV2ZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgZXZlbnQua2V5ICYmXG4gICAgICBldmVudC5rZXkuaW5kZXhPZignbmcySWRsZS4nKSA+PSAwICYmXG4gICAgICBldmVudC5rZXkuaW5kZXhPZignLmV4cGlyeScpID49IDBcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiJdfQ==